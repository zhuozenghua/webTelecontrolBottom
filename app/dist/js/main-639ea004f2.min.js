window.onload=function(){var c=new WebSocket("ws://localhost:8000/");function e(e,t,o,n){e.addEventListener?e.addEventListener(t,o,n):e.attachEvent?e.attachEvent("on"+t,o):e["on"+t]=o}c.onopen=function(e){console.log("websocket open!!!")},c.onmessage=function(e){console.log(e.data);for(var t=JSON.parse(e.data),o=t.res&&"string"==typeof t.res?t.res:"0000",n=document.getElementById("light").getElementsByTagName("a"),c=0;c<4;c++)n[c].className="1"===o.charAt(c)?"led-light":"led-unlight"},c.onclose=function(e){console.log("websocket close!!!")},c.onerror=function(e){console.log("websocket error!!!"+e)},e(document.getElementById("deviceOpen"),"click",function(){var e={device:0};console.log(e),e=JSON.stringify(e),c.send(e)},!1),e(document.getElementById("deviceClose"),"click",function(){var e={device:1};console.log(e),e=JSON.stringify(e),c.send(e)},!1),e(document.getElementById("exit"),"click",function(){c&&c.close()},!1),e(document.getElementById("formLeft"),"click",function(e){var t=(e=e||window.event).target||e.srcElement,o={operation:0},n=!0;switch(t.id){case"led1":o.led="1000";break;case"led2":o.led="0100";break;case"led3":o.led="0010";break;case"led4":o.led="0001";break;case"leftShift":o.operation=1;break;case"rightShift":o.operation=2;break;case"cycShift":o.operation=3;break;case"ledStop":o.operation=4;break;case"timeSet":o.operation=5,o.ledTime=document.getElementById("time").value;break;default:n=!1}n&&(console.log(o),o=JSON.stringify(o),c.send(o));e.stopPropagation?e.stopPropagation():e.cancelable=!0},!1),e(document.getElementById("digitalTubeWrite"),"click",function(e){var t={operation:6,digitalTubeNum:document.getElementById("digitalTubeNum").value};console.log(t),t=JSON.stringify(t),c.send(t)},!1)};